/*
 Swipebox v1.4.4 | Constantin Saguin csag.co | MIT License | github.com/brutaldesign/swipebox */
(function(f,m,b,k){b.swipebox=function(l,y){var z={useCSS:!0,useSVG:!0,initialIndexOnArray:0,removeBarsOnMobile:!0,hideCloseButtonOnMobile:!1,hideBarsDelay:3E3,videoMaxWidth:1140,vimeoColor:"cccccc",beforeOpen:null,afterOpen:null,afterClose:null,afterMedia:null,nextSlide:null,prevSlide:null,loopAtEnd:!1,autoplayVideos:!1,queryStringData:{},toggleClassOnLoad:"",selector:null},c=this,g=[],n,u=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),
w=null!==u||m.createTouch!==k||"ontouchstart"in f||"onmsgesturechange"in f||navigator.msMaxTouchPoints,A=!!m.createElementNS&&!!m.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,v=f.innerWidth?f.innerWidth:b(f).width(),x=f.innerHeight?f.innerHeight:b(f).height(),p=0;c.settings={};b.swipebox.close=function(){h.closeSlide()};b.swipebox.extend=function(){return h};c.init=function(){c.settings=b.extend({},z,y);if(b.isArray(l))g=l,h.target=b(f),h.init(c.settings.initialIndexOnArray);
else b(l).on("click",c.settings.selector,function(a){if("slide current"===a.target.parentNode.className)return!1;h.destroy();n=null===c.settings.selector?b(l):b(l).find(c.settings.selector);g=[];if(!e){var d="data-rel";var e=b(this).attr(d)}e||(d="rel",e=b(this).attr(d));e&&""!==e&&"nofollow"!==e&&(n=n.filter("["+d+'="'+e+'"]'));n.each(function(){var a=null,d=null;b(this).attr("title")&&(a=b(this).attr("title"));b(this).attr("href")&&(d=b(this).attr("href"));g.push({href:d,title:a})});d=n.index(b(this));
a.preventDefault();a.stopPropagation();h.target=b(a.target);h.init(d)})};var h={init:function(a){c.settings.beforeOpen&&c.settings.beforeOpen();this.target.trigger("swipebox-start");b.swipebox.isOpen=!0;this.build();this.openSlide(a);this.openMedia(a);this.preloadMedia(a+1);this.preloadMedia(a-1);c.settings.afterOpen&&c.settings.afterOpen(a)},build:function(){b("body").append('<div id="swipebox-overlay">\t\t\t\t\t<div id="swipebox-container">\t\t\t\t\t\t<div id="swipebox-slider"></div>\t\t\t\t\t\t<div id="swipebox-top-bar">\t\t\t\t\t\t\t<div id="swipebox-title"></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div id="swipebox-bottom-bar">\t\t\t\t\t\t\t<div id="swipebox-arrows">\t\t\t\t\t\t\t\t<a id="swipebox-prev"></a>\t\t\t\t\t\t\t\t<a id="swipebox-next"></a>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<a id="swipebox-close"></a>\t\t\t\t\t</div>\t\t\t</div>');
if(A&&!0===c.settings.useSVG){var a=b("#swipebox-close").css("background-image");a=a.replace("png","svg");b("#swipebox-prev, #swipebox-next, #swipebox-close").css({"background-image":a})}u&&c.settings.removeBarsOnMobile&&b("#swipebox-bottom-bar, #swipebox-top-bar").remove();b.each(g,function(){b("#swipebox-slider").append('<div class="slide"></div>')});this.setDim();this.actions();w&&this.gesture();this.keyboard();this.animBars();this.resize()},setDim:function(){var a={};if("onorientationchange"in
f)f.addEventListener("orientationchange",function(){if(0===f.orientation)d=v,e=x;else if(90===f.orientation||-90===f.orientation)d=x,e=v},!1);else{var d=f.innerWidth?f.innerWidth:b(f).width();var e=f.innerHeight?f.innerHeight:b(f).height()}a={width:d,height:e};b("#swipebox-overlay").css(a)},resize:function(){var a=this;b(f).resize(function(){a.setDim()}).resize()},supportTransition:function(){var a="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" "),b;for(b=
0;b<a.length;b++)if(m.createElement("div").style[a[b]]!==k)return a[b];return!1},doCssTrans:function(){if(c.settings.useCSS&&this.supportTransition())return!0},gesture:function(){var a=this,d,e,c,f,l,h,k=!1,r=!1,m,n,t={},u=b("#swipebox-top-bar, #swipebox-bottom-bar"),q=b("#swipebox-slider");u.addClass("visible-bars");a.setTimeout();b("body").bind("touchstart",function(a){b(this).addClass("touching");d=b("#swipebox-slider .slide").index(b("#swipebox-slider .slide.current"));t=a.originalEvent.targetTouches[0];
m=a.originalEvent.targetTouches[0].pageX;n=a.originalEvent.targetTouches[0].pageY;b("#swipebox-slider").css({"-webkit-transform":"translate3d("+p+"%, 0, 0)",transform:"translate3d("+p+"%, 0, 0)"});b(".touching").bind("touchmove",function(a){a.preventDefault();a.stopPropagation();t=a.originalEvent.targetTouches[0];!r&&(l=c,c=t.pageY-n,50<=Math.abs(c)||k)&&(a=.75-Math.abs(c)/q.height(),q.css({top:c+"px"}),q.css({opacity:a}),k=!0);f=e;e=t.pageX-m;h=100*e/v;!r&&!k&&10<=Math.abs(e)&&(b("#swipebox-slider").css({"-webkit-transition":"",
transition:""}),r=!0);r&&(0<e?0===d?b("#swipebox-overlay").addClass("leftSpringTouch"):(b("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),b("#swipebox-slider").css({"-webkit-transform":"translate3d("+(p+h)+"%, 0, 0)",transform:"translate3d("+(p+h)+"%, 0, 0)"})):0>e&&(g.length===d+1?b("#swipebox-overlay").addClass("rightSpringTouch"):(b("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),b("#swipebox-slider").css({"-webkit-transform":"translate3d("+
(p+h)+"%, 0, 0)",transform:"translate3d("+(p+h)+"%, 0, 0)"}))))});return!1}).bind("touchend",function(d){d.preventDefault();d.stopPropagation();b("#swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease",transition:"transform 0.4s ease"});c=t.pageY-n;e=t.pageX-m;h=100*e/v;k?(k=!1,100<=Math.abs(c)&&Math.abs(c)>Math.abs(l)?(d=0<c?q.height():-q.height(),q.animate({top:d+"px",opacity:0},300,function(){a.closeSlide()})):q.animate({top:0,opacity:1},300)):r?(r=!1,10<=e&&e>=f?a.getPrev():
-10>=e&&e<=f&&a.getNext()):u.hasClass("visible-bars")?(a.clearTimeout(),a.hideBars()):(a.showBars(),a.setTimeout());b("#swipebox-slider").css({"-webkit-transform":"translate3d("+p+"%, 0, 0)",transform:"translate3d("+p+"%, 0, 0)"});b("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch");b(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(0<c.settings.hideBarsDelay){var a=this;a.clearTimeout();a.timeout=f.setTimeout(function(){a.hideBars()},
c.settings.hideBarsDelay)}},clearTimeout:function(){f.clearTimeout(this.timeout);this.timeout=null},showBars:function(){var a=b("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?a.addClass("visible-bars"):(b("#swipebox-top-bar").animate({top:0},500),b("#swipebox-bottom-bar").animate({bottom:0},500),setTimeout(function(){a.addClass("visible-bars")},1E3))},hideBars:function(){var a=b("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?a.removeClass("visible-bars"):(b("#swipebox-top-bar").animate({top:"-50px"},
500),b("#swipebox-bottom-bar").animate({bottom:"-50px"},500),setTimeout(function(){a.removeClass("visible-bars")},1E3))},animBars:function(){var a=this,d=b("#swipebox-top-bar, #swipebox-bottom-bar");d.addClass("visible-bars");a.setTimeout();b("#swipebox-slider").click(function(){d.hasClass("visible-bars")||(a.showBars(),a.setTimeout())});b("#swipebox-bottom-bar").hover(function(){a.showBars();d.addClass("visible-bars");a.clearTimeout()},function(){0<c.settings.hideBarsDelay&&(d.removeClass("visible-bars"),
a.setTimeout())})},keyboard:function(){var a=this;b(f).bind("keyup",function(b){b.preventDefault();b.stopPropagation();37===b.keyCode?a.getPrev():39===b.keyCode?a.getNext():27===b.keyCode&&a.closeSlide()})},actions:function(){var a=this;2>g.length?(b("#swipebox-bottom-bar").hide(),k===g[1]&&b("#swipebox-top-bar").hide()):(b("#swipebox-prev").bind("touchend click",function(b){b.preventDefault();b.stopPropagation();a.getPrev();a.setTimeout()}),b("#swipebox-next").bind("touchend click",function(b){b.preventDefault();
b.stopPropagation();a.getNext();a.setTimeout()}));b("#swipebox-close").bind("touchend click",function(){a.closeSlide()})},setSlide:function(a,d){d=d||!1;var e=b("#swipebox-slider");p=100*-a;this.doCssTrans()?e.css({"-webkit-transform":"translate3d("+100*-a+"%, 0, 0)",transform:"translate3d("+100*-a+"%, 0, 0)"}):e.animate({left:100*-a+"%"});b("#swipebox-slider .slide").removeClass("current");b("#swipebox-slider .slide").eq(a).addClass("current");this.setTitle(a);d&&e.fadeIn();b("#swipebox-prev, #swipebox-next").removeClass("disabled");
0===a?b("#swipebox-prev").addClass("disabled"):a===g.length-1&&!0!==c.settings.loopAtEnd&&b("#swipebox-next").addClass("disabled")},openSlide:function(a){b("html").addClass("swipebox-html");w?(b("html").addClass("swipebox-touch"),c.settings.hideCloseButtonOnMobile&&b("html").addClass("swipebox-no-close-button")):b("html").addClass("swipebox-no-touch");b(f).trigger("resize");this.setSlide(a,!0)},preloadMedia:function(a){var b=this,c=null;g[a]!==k&&(c=g[a].href);b.isVideo(c)?b.openMedia(a):setTimeout(function(){b.openMedia(a)},
1E3)},openMedia:function(a){if(g[a]!==k)var d=g[a].href;if(0>a||a>=g.length)return!1;var e=b("#swipebox-slider .slide").eq(a);this.isVideo(d)?(e.html(this.getVideo(d)),c.settings.afterMedia&&c.settings.afterMedia(a)):(e.addClass("slide-loading"),this.loadMedia(d,function(){e.removeClass("slide-loading");e.html(this);c.settings.afterMedia&&c.settings.afterMedia(a)}))},setTitle:function(a){var d=null;b("#swipebox-title").empty();g[a]!==k&&(d=g[a].title);d?(b("#swipebox-top-bar").show(),b("#swipebox-title").append(d)):
b("#swipebox-top-bar").hide()},isVideo:function(a){if(a&&(a.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||a.match(/vimeo\.com\/([0-9]*)/)||a.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||0<=a.toLowerCase().indexOf("swipeboxvideo=1")))return!0},parseUri:function(a,d){var e=m.createElement("a"),f={};e.href=decodeURIComponent(a);e.search&&(f=JSON.parse('{"'+e.search.toLowerCase().replace("?","").replace(/&/g,'","').replace(/=/g,'":"')+'"}'));b.isPlainObject(d)&&(f=b.extend(f,d,
c.settings.queryStringData));return b.map(f,function(a,b){if(a&&""<a)return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&")},getVideo:function(a){var b=a.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/);var e=a.match(/(?:www\.)?youtu\.be\/([a-zA-Z0-9\-_]+)/),f=a.match(/(?:www\.)?vimeo\.com\/([0-9]*)/);b||e?(e&&(b=e),a=h.parseUri(a,{autoplay:c.settings.autoplayVideos?"1":"0",v:""}),b='<iframe width="560" height="315" src="//'+b[1]+"/embed/"+
b[2]+"?"+a+'" frameborder="0" allowfullscreen></iframe>'):f?(a=h.parseUri(a,{autoplay:c.settings.autoplayVideos?"1":"0",byline:"0",portrait:"0",color:c.settings.vimeoColor}),b='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+f[1]+"?"+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):b='<iframe width="560" height="315" src="'+a+'" frameborder="0" allowfullscreen></iframe>';return'<div class="swipebox-video-container" style="max-width:'+c.settings.videoMaxWidth+
'px"><div class="swipebox-video">'+b+"</div></div>"},loadMedia:function(a,d){if(0===a.trim().indexOf("#"))d.call(b("<div>",{"class":"swipebox-inline-container"}).append(b(a).clone().toggleClass(c.settings.toggleClassOnLoad)));else if(!this.isVideo(a)){var e=b("<img>").on("load",function(){d.call(e)});e.attr("src",a)}},getNext:function(){var a=b("#swipebox-slider .slide").index(b("#swipebox-slider .slide.current"));if(a+1<g.length){var d=b("#swipebox-slider .slide").eq(a).contents().find("iframe").attr("src");
b("#swipebox-slider .slide").eq(a).contents().find("iframe").attr("src",d);a++;this.setSlide(a);this.preloadMedia(a+1);c.settings.nextSlide&&c.settings.nextSlide(a)}else!0===c.settings.loopAtEnd?(d=b("#swipebox-slider .slide").eq(a).contents().find("iframe").attr("src"),b("#swipebox-slider .slide").eq(a).contents().find("iframe").attr("src",d),a=0,this.preloadMedia(a),this.setSlide(a),this.preloadMedia(a+1),c.settings.nextSlide&&c.settings.nextSlide(a)):(b("#swipebox-overlay").addClass("rightSpring"),
setTimeout(function(){b("#swipebox-overlay").removeClass("rightSpring")},500))},getPrev:function(){var a=b("#swipebox-slider .slide").index(b("#swipebox-slider .slide.current"));if(0<a){var d=b("#swipebox-slider .slide").eq(a).contents().find("iframe").attr("src");b("#swipebox-slider .slide").eq(a).contents().find("iframe").attr("src",d);a--;this.setSlide(a);this.preloadMedia(a-1);c.settings.prevSlide&&c.settings.prevSlide(a)}else b("#swipebox-overlay").addClass("leftSpring"),setTimeout(function(){b("#swipebox-overlay").removeClass("leftSpring")},
500)},nextSlide:function(a){},prevSlide:function(a){},closeSlide:function(){b("html").removeClass("swipebox-html");b("html").removeClass("swipebox-touch");b(f).trigger("resize");this.destroy()},destroy:function(){b(f).unbind("keyup");b("body").unbind("touchstart");b("body").unbind("touchmove");b("body").unbind("touchend");b("#swipebox-slider").unbind();b("#swipebox-overlay").remove();b.isArray(l)||l.removeData("_swipebox");this.target&&this.target.trigger("swipebox-destroy");b.swipebox.isOpen=!1;
c.settings.afterClose&&c.settings.afterClose()}};c.init()};b.fn.swipebox=function(f){b.data(this,"_swipebox")||(f=new b.swipebox(this,f),this.data("_swipebox",f));return this.data("_swipebox")}})(window,document,jQuery);